@echo off
color 8A
set cmdtitle=OnigiriPrompt
set cmdversion=1.26
set oldcommand=empty
cls
title %cmdtitle%
set count=0
echo %cmdtitle% Version %cmdversion%
echo.
echo Type "%cmdtitle%help" to Display special commands.
echo.
goto main

:main
title %cmdtitle%
set randomcheck=%random%
set command=%randomcheck%
set /a count=%count%+1

set /p command="%count%>"
if "|%command%|" == "|%randomcheck%|" (goto main)
title %cmdtitle% - %command%
goto cmdcheck

:cmdcheck
if "|%command%|" == "|developer|" (goto dev)
if "|%command%|" == "|exit|" (goto exit)
if "|%command%|" == "|delbash|" (goto db)
if "|%command%|" == "|doup|" (goto doup)
if "|%command%|" == "|bashhistory|" (goto history)
if "|%command%|" == "|%cmdtitle%help|" (goto help)
goto cmdready

:cmdready
echo %command%>>history.txt
%command%
goto log

:log
echo.
echo ^>"%command%"コマンドは正常に終了しました
echo.
set oldcommand=%command%
goto main

:help
echo help>>history.txt
echo.
echo "exit"
echo "%cmdtitle%help"
echo "bashhistory"
echo "doup"
echo "delbash"
echo "developer"
goto log

:history
echo bashhistory>>history.txt
type history.txt
goto log

:db
del history.txt
goto log

:doup
echo doup>>history.txt
%oldcommand%
set command=%oldcommand%
goto log

:dev
echo.
echo developer>>history.txt
echo Sorry for the publicity,,,
echo Source Production:ABATBeliever @abatbeliever
echo ^>^>https://twitter.com/abatbeliever
echo Special thanks^(Name Inventor^):vvv @vvv_junkPC
echo ^>^>https://twitter.com/vvv_junkPC/status/1517488758136147968
goto log

:exit
echo exit>>history.txt
echo Close prompt?
set exittest=N
echo.
set /p exittest="%(Y/N)>"
if "|%exittest%|" == "|Y|" (exit)
if "|%exittest%|" == "|y|" (exit)
goto log